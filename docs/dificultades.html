<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        
<link href="./assets/44163efa/css/bootstrap.css" rel="stylesheet">
<link href="./assets/a44b40ab/solarized_light.css" rel="stylesheet">
<link href="./assets/6b44dc31/style.css" rel="stylesheet">
<script src="./assets/557a02ba/jquery.js"></script>
<script src="./assets/44163efa/js/bootstrap.js"></script>
<script src="./assets/ed73fd07/jssearch.js"></script>    <title>Dificultades encontradas - Dificultades encontradas - Guía del proyecto</title>
</head>
<body>

<div class="wrap">
    <nav id="w46" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w46-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">Guía del proyecto</a></div><div id="w46-collapse" class="collapse navbar-collapse"><ul id="w47" class="navbar-nav nav"><li><a href="./api/index.html">Class reference</a></li>
<li><a href="./README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-36" data-toggle="collapse" data-parent="#navigation">Descripción general <b class="caret"></b></a><div id="navigation-36" class="submenu panel-collapse collapse"><a class="list-group-item" href="./descripcion.html#funcionalidad-principal-de-la-aplicacion">Funcionalidad principal de la aplicación</a>
<a class="list-group-item" href="./descripcion.html#objetivos-generales">Objetivos generales</a>
<a class="list-group-item" href="./descripcion.html#url-del-repositorio">URL del repositorio</a>
<a class="list-group-item" href="./descripcion.html#url-de-la-documentacion">URL de la documentación</a></div>
<a class="list-group-item" href="#navigation-37" data-toggle="collapse" data-parent="#navigation">Instrucciones de instalación y despliegue <b class="caret"></b></a><div id="navigation-37" class="submenu panel-collapse collapse"><a class="list-group-item" href="./instalacion.html#en-local">En local</a>
<a class="list-group-item" href="./instalacion.html#en-la-nube">En la nube</a></div>
<a class="list-group-item" href="#navigation-38" data-toggle="collapse" data-parent="#navigation">Catálogo de requisitos <b class="caret"></b></a><div id="navigation-38" class="submenu panel-collapse collapse"><a class="list-group-item" href="./requisitos.html#cuadro-resumen">Cuadro resumen</a></div>
<a class="list-group-item" href="#navigation-39" data-toggle="collapse" data-parent="#navigation">Manual de usuario <b class="caret"></b></a><div id="navigation-39" class="submenu panel-collapse collapse"><a class="list-group-item" href="./manual.html">Manual de usuario</a></div>
<a class="list-group-item" href="#navigation-40" data-toggle="collapse" data-parent="#navigation">Decisiones adoptadas <b class="caret"></b></a><div id="navigation-40" class="submenu panel-collapse collapse"><a class="list-group-item" href="./decisiones.html">Decisiones adoptadas</a></div>
<a class="list-group-item active" href="#navigation-41" data-toggle="collapse" data-parent="#navigation">Dificultades encontradas <b class="caret"></b></a><div id="navigation-41" class="submenu panel-collapse collapse in"><a class="list-group-item active" href="./dificultades.html">Dificultades encontradas</a></div>
<a class="list-group-item" href="#navigation-42" data-toggle="collapse" data-parent="#navigation">Diagramas <b class="caret"></b></a><div id="navigation-42" class="submenu panel-collapse collapse"><a class="list-group-item" href="./diagramas.html#diagramas-de-clases">Diagramas de clases</a>
<a class="list-group-item" href="./diagramas.html#diagramas-de-estructura-logica-de-datos">Diagramas de estructura lógica de datos</a></div>
<a class="list-group-item" href="#navigation-43" data-toggle="collapse" data-parent="#navigation">Glosario de términos <b class="caret"></b></a><div id="navigation-43" class="submenu panel-collapse collapse"><a class="list-group-item" href="./glosario.html">Glosario de términos</a></div>
<a class="list-group-item" href="#navigation-44" data-toggle="collapse" data-parent="#navigation">Conclusiones <b class="caret"></b></a><div id="navigation-44" class="submenu panel-collapse collapse"><a class="list-group-item" href="./conclusiones.html">Conclusiones</a></div>
<a class="list-group-item" href="#navigation-45" data-toggle="collapse" data-parent="#navigation">Anexos <b class="caret"></b></a><div id="navigation-45" class="submenu panel-collapse collapse"><a class="list-group-item" href="./anexos.html">Anexos</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Dificultades encontradas <span id="dificultades-encontradas"></span><a href="#dificultades-encontradas" class="hashlink">&para;</a></h1><ul>
<li>A la hora de enviar imágenes mediante peticiones PUT. Las peticiones PUT son más simples que las peticiones POST, por ello el servidor no carga los ficheros recibidos en la variable <code>$_FILES</code>.</li>
</ul>
<p>Yii2 permite cargar <code>$_FILES</code> de forma manual.</p>
<p>Segun la documentaciín de Yii2:</p>
<blockquote><p>When implementing RESTful APIs, you often need to retrieve parameters that are submitted via PUT, PATCH or other request methods. You can get these parameters by calling the <code>yii\web\Request::getBodyParam()</code>-- The Definitive Guide to Yii 2.0</p>
</blockquote>
<ul>
<li>Generar una Request HTTP y una Response a medida para comunicar mi aplicación y mi servicio de almacenamiento.</li>
</ul>
<p>Yii2 proporciona clases especificas para esa tarea.</p>
<ul>
<li>En alguna ocasión he querido hacer uso de una relación para recuperar los modelos relacionados con el modelo en uso, pero necesitaba alguna manera de personalizar la consulta.
Esto se consigue recuperando la relación y agregándolo clausulas a la consulta para así poder modificarla.</li>
</ul>
<pre><code class="hljs php language-php"><span class="hljs-comment"># Recuperando los modelos relacionados</span>

$models = $model-&gt;attrName;

<span class="hljs-comment"># Recuperando la relación para personalizarla</span>

$relation = $model-&gt;getAttrName();

$models = $relation-&gt;where([<span class="hljs-string">'ILIKE'</span>, <span class="hljs-string">'nombre'</span>, <span class="hljs-string">'lobo'</span>])-&gt;all();
</code></pre>
<h2>Elemento de innovación <span id="elemento-de-innovacion"></span><a href="#elemento-de-innovacion" class="hashlink">&para;</a></h2><p>Como elemento de innovación se desarrollado un servicio REST de almacenamiento de imágenes desarrollado en Yii el cual sera consumido por Lobo, la aplicación principal.
El servicio expone una API que permite enviar imágenes para que las almacene, recuperarlas y algunas opciones de gestión para su gestión.</p>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Tue, 11 Jun 2019 09:56:25 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
